/* ==========================================================================
   cfgov-refresh
   Bureau mission page at /the-bureau/.
   ========================================================================== */

// Size of play button image;
@play-btn-size__px: 73px;

// Override general slick carousel overrides defined in mobile-carousel.less.
// Removes bottom border, because the-bureau has a bordered block below
// its carousel.
.the-bureau .mobile-carousel.slick-slider {
    border-bottom: none;
    padding-bottom: 0;

    .respond-to-min(1024px, {
        margin-top: unit(60px / @base-font-size-px, em);
    });

    &_media .image-container {
        margin-left: 10px;
    }

    &_section {
        margin-top: unit(30px / @base-font-size-px, em);
    }

    &_section + &_section {
        .respond-to-min(@tablet-min, {
            border-top: 1px solid @gray-50;
            padding-top: unit(30px / @base-font-size-px, em);
        });
    }

    .media_image {
        width: 120px;
        .respond-to-max(@tablet-max, {
            width: 80px;
        });
    }

    .slick-prev,
    .slick-next {
        // TODO:
        // The top value relies on the height
        // of the carousel slide image, which may vary.
        // This overrides the default top of 140px set
        // in mobile-carousel.less.
        top: 150px;
    }
}

.bureau-functions {

    .respond-to-min(@tablet-min, {
        border-top: 1px solid @gray-50;
    });

    &_list {
        .webfont-regular();
        .respond-to-min(@desktop-min, {
            .grid_column(6);
        });
    }

    .expandable {
        background-color: inherit;
    }
}

.bureau-bio {

    .media_image {
        width: 125px;
        .respond-to-max(1024px, {
            width: 80px;
        });
    }

    &_name {
        .h3();
        margin-bottom: unit(19px / @font-size, em);
        .respond-to-max(1024px, {
            .h4();
            margin-bottom: unit(15px / @font-size, em);
        });
    }

}

.bureau-history {
    position: relative;

    &_header {
        .respond-to-min(1024px, {
            position: absolute;
            left: 277px;
            top: 25px;
        });
    }

    &_text {
        .respond-to-min(1024px, {
            position: relative;
            top: 48px;
        });
    }

    &_image {

        .respond-to-range(@tablet-min, @tablet-max, {
            width: 215px;
        });

        .respond-to-min(@desktop-min, {
            width: 250px;
        });
    }
}

// Used to help center video container
@share-width__px: 130px;
@gutter__em: unit(@grid_gutter-width  / @base-font-size-px, em);
@gutter-half__em: @gutter__em / 2;

.hero__bureau {
    padding-top: 0;
    border-top: 1px solid @gray-50;

    .hero_wrapper {

        .respond-to-min(@tablet-min, {
            padding-top: @gutter__em * 2;
        });
    }

    .youtube-player_image {
        width: @grid_wrapper-width;

        // Optical adjustment for beautification purposes.
        top: -1 * @gutter__em;

        .respond-to-max(@tablet-max, {
            // Adjustment for YouTube image height/weight ratio.
            top: 1px;
        });
    }
}

.hero_card__bureau {
    .hero_preview {
        padding-bottom: @gutter__em * 2;
    }

    .jump-link {
        display: block;
        margin: @gutter-half__em 0;
    };
}

#youtube-player {
    float: left;

    .respond-to-min(1024px, {
        padding-left: @share-width__px;
    });

    .respond-to-max(@tablet-max, {
        .u-flexible-container_inner();
    });
}

.youtube-player_container {
    background: @white;
    overflow: hidden;
}

.youtube-player_container.yt-playing {
    background-color: #000;

    .hide-on_yt-playing {
        display: none;
    }

    .show-on_yt-playing {
        display: block;
    }

    .youtube-player_video-container {
        display: table;

        .respond-to-max(@tablet-max, {
            display: block;
        });
    }

    .respond-to-max(@mobile-max, {
        margin-top: 0;
    });
}

.youtube-player_iframe-container {
    float: left;

    .respond-to-max(@tablet-max, {
        .u-flexible-container();
        width: 100%;
    });
}

.youtube-player_image {
    margin: 0 auto;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
}

.youtube-player_image-container {

    .respond-to-max(@mobile-max, {
        .u-flexible-container();
    });
}

.youtube-player_play-btn {
    height: @play-btn-size__px;
    width: @play-btn-size__px;
    position: absolute;
    left: 50%;
    top: 50%;
    background: url('/static/img/youtube-play-btn.png') no-repeat;
    z-index: 10;
    transform: translate(-50%, -50%);
}

.lt-ie9 {
    .youtube-player_play-btn {
        margin-left: -1 * @play-btn-size__px;
    }
}

.youtube-player_actions-container {
    float: left;
    color: @white;

    h1 {
        margin: @gutter__em 0 @gutter-half__em 0;
    }

    .respond-to-max(@tablet-max, {
        .grid_wrapper();
        margin: @gutter-half__em 0;
        padding: 0;
        width: 100%;
    });

    .respond-to-min(@desktop-min, {
        margin: @gutter__em 0 0 @gutter__em;
        width: @share-width__px;
    });
}

.youtube-player_share-actions {
    .h5, .post_share {
        .respond-to-max(@tablet-max, {
            display: inline-block;
            margin: 0 0 0 @gutter-half__em;
            vertical-align: text-top;
        });
    }

    // Adding white background to the share icons
    // without overlap.
    .cf-icon {
        background: @white;
        height: 20px;
        width: 22px;

        &:before {
            position: relative;
            top: -3px;
        }
    }

    .share-icon {
        color: @pacific;
    }

    .respond-to-max(@tablet-max, {
        .grid_column(3, 5);
        text-align: right;
    });
}

.youtube-player_video-container {
    display: none;
    margin: auto;
}

.youtube-player_video-actions {

    .respond-to-max(@tablet-max, {
        .grid_column(2, 5)
    });
}
