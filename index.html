{% extends "base.html" %}

{% block title -%}
    Consumer Financial Protection Bureau
{%- endblock %}

{% block desc -%}
    Our vision is a consumer finance marketplace that works for American consumers, responsible providers, and the economy as a whole.
{%- endblock %}

{# Set the percentage complete for each section HERE.
   These values will propagate everywhere they are needed on the page.
   When completing a section, uncomment the `background: #2CB34A;` line in the CSS below. #}
{% set pct = {
    'consumer_guides': '0%',
    'submit_a_complaint': '0%',
    'data_and_research': '0%',
    'policy_and_compliance': '0%',
    'about': '80%',
} %}

{% block css scoped -%}
    {{ super() }}
    <style>
        /* These heights control the height of the "bar charts" in the non-SVG fallback. */
        #consumer-guides .bar-chart {
            height: {{ pct.consumer_guides }};
            /* background: #2CB34A; */
        }
        #submit-a-complaint .bar-chart {
            height: {{ pct.submit_a_complaint }};
            /* background: #2CB34A; */
        }
        #data-and-research .bar-chart {
            height: {{ pct.data_and_research }};
            /* background: #2CB34A; */
        }
        #policy-and-compliance .bar-chart {
            height: {{ pct.policy_and_compliance }};
            /* background: #2CB34A; */
        }
        #about .bar-chart {
            height: {{ pct.about }};
            /* background: #2CB34A; */
        }
    </style>
{%- endblock %}

{% block content %}

    <main class="content" id="main" role="main">

        <section class="content_hero hero beta-hero">
            <h1 class="beta-hero_title">Welcome to beta.<wbr>consumerfinance.gov!</h1>
            <p class="beta-hero_desc">
                We’re redesigning consumerfinance.gov to make it easier to use.
                Follow our work here as we build in the open.
            </p>
        </section>

        <!-- .content_bar must come after .content_hero but before .content_wrapper -->
        <div class="content_bar"></div>

        <div class="wrapper content_wrapper">
            <section class="content_main">
                <h2 class="h1">What we’re working on</h2>
                <p class="short-desc">
                    We’re redesigning and reorganizing, section by section,
                    so you can find the information you need quickly and easily, on any device.
                    These charts tell you how much of each section we've published in the new format.
                </p>

                <div class="progress-charts">
                    <div class="progress-charts_container" id="consumer-guides">
                        <canvas class="progress-charts_chart">
                            <div class="chart-bg">
                                <div class="bar-chart"></div>
                            </div>
                        </canvas>
                        <h3 class="chart-name">Consumer Guides</h3>
                        <div class="chart-value u-visually-hidden">{{ pct.consumer_guides }}</div>
                    </div>
                    <div class="progress-charts_container" id="submit-a-complaint">
                        <canvas class="progress-charts_chart">
                            <div class="chart-bg">
                                <div class="bar-chart"></div>
                            </div>
                        </canvas>
                        <h3 class="chart-name">Submit a Complaint</h3>
                        <div class="chart-value u-visually-hidden">{{ pct.submit_a_complaint }}</div>
                    </div>
                    <div class="progress-charts_container" id="data-and-research">
                        <canvas class="progress-charts_chart">
                            <div class="chart-bg">
                                <div class="bar-chart"></div>
                            </div>
                        </canvas>
                        <h3 class="chart-name">Data & Research</h3>
                        <div class="chart-value u-visually-hidden">{{ pct.data_and_research }}</div>
                    </div>
                    <div class="progress-charts_container" id="policy-and-compliance">
                        <canvas class="progress-charts_chart">
                            <div class="chart-bg">
                                <div class="bar-chart"></div>
                            </div>
                        </canvas>
                        <h3 class="chart-name">Policy & Compliance</h3>
                        <div class="chart-value u-visually-hidden">{{ pct.policy_and_compliance }}</div>
                    </div>
                    <div class="progress-charts_container" id="about">
                        <canvas class="progress-charts_chart">
                            <div class="chart-bg">
                                <div class="bar-chart"></div>
                            </div>
                        </canvas>
                        <h3 class="chart-name">About</h3>
                        <div class="chart-value u-visually-hidden">{{ pct.about }}</div>
                    </div>
                </div>

                <div class="block
                            block__padded-top
                            block__border-top
                            block__flush-bottom">
                    <div class="content-l content-l__large-gutters">
                        <section class="content-l_col content-l_col-1-2">
                            <h3>Why are we redesigning in&nbsp;beta?</h3>
                            <p class="short_desc">
                                A beta release gives both users and developers a sense of
                                new features and capabilities.
                                It helps us identify what's working and what's not.
                                But the content here is not necessarily accurate or up to date.
                                If you need reliable information from us right now, visit the current site.
                            </p>
                            <ul class="list__links">
                                <li class="list_item">
                                    <a class="list_link jump-link" href="http://www.consumerfinance.gov/">
                                        Go to consumerfinance.gov
                                    </a>
                                </li>
                            </ul>
                        </section>
                        <section class="content-l_col content-l_col-1-2 content-l_col__before-divider">
                            <h3>Open government, open code</h3>
                            <p class="short_desc">
                                The new consumerfinance.gov is an open source project,
                                but it's not our only one.
                                All the software we build is open source by default.
                                We release as much as possible.
                            </p>
                            <ul class="list__links">
                                <li class="list_item">
                                    <a class="list_link jump-link jump-link__external-link"
                                       href="https://cfpb.github.io/">
                                        Learn about our projects at CFPB Open Tech
                                    </a>
                                </li>
                                <li class="list_item">
                                    <a class="list_link jump-link jump-link__external-link"
                                       href="https://github.com/cfpb/cfgov-refresh">
                                        See the code for this redesign on GitHub
                                    </a>
                                </li>
                            </ul>
                        </section>
                    </div><!-- END .content-l -->
                </div><!-- END .block -->
            </section><!-- END .content_main -->
        </div><!-- END .content_wrapper -->

    </main>

{% endblock content %}
