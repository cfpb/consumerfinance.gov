{% extends "base.html" %}

{% block title -%}
    Docs
{%- endblock %}

{% block desc -%}
    Code documentation for the consumerfinance.gov refresh
{%- endblock %}

{% macro render_doc_link_list(doc_object) %}
    <h1 class="h2">
        {{ doc_object.title }}
    </h1>
    <div class="padded-container">
        <div class="padded-container_body">
            <ul class="list list__unstyled">
            {%- for link in doc_object.links %}
                <li class="list_item">
                    <a class="list_link" href="{{ link.url }}">{{ link.text }}</a>
                </li>
            {%- endfor %}
            </ul>
        </div>
    </div><!-- END {{ doc_object.title }} templates -->
{% endmacro %}

{% macro render_doc_template_list(doc_template_object) %}
    <div class="padded-container">
        <div class="padded-container_body">
            <ul class="list list__unstyled">
            {%- for link in doc_template_object.links %}
                <li>
                    <span class="demo-file-name">
                        <b>{{ doc_template_object.title }}/</b>{{ link.text }}
                    </span>
                    <a class="demo-sheer-link"
                       href="{{ link.url }}">
                        view in Sheer
                        <span class="cf-icon cf-icon-external-link"></span>
                    </a>
                </li>
            {%- endfor %}
            </ul>
            {%- if doc_template_object.short_desc %}
                <p class="short-desc">{{ doc_template_object.short_desc }}</p>
            {% endif -%}
        </div>
    </div><!-- END {{ doc_template_object.title }} docs -->
{% endmacro %}

{% set docs = {
    "getting_started": {
        "title": "Getting started",
        "links": [
            { "url": "https://github.com/cfpb/cfgov-refresh",
              "text": "GitHub repository" },
            { "url": "https://github.com/cfpb/cfgov-refresh/README.md",
              "text": "README.md" },
            { "url": "/docs/sheer-layouts/",
              "text": "Sheer layouts/templates" }
        ]
    },
    "pattern_library": {
        "title": "Pattern library",
        "links": [
            { "url": "/docs/blog-docs/",
              "text": "Blog docs" },
            { "url": "/docs/cf-enhancements/",
              "text": "CF enhancements" },
            { "url": "/docs/forms/",
              "text": "Forms" },
            { "url": "/docs/header/",
              "text": "Header" },
            { "url": "/docs/lists/",
              "text": "Lists" },
            { "url": "/docs/media/",
              "text": "Media" },
            { "url": "/docs/media-object/",
              "text": "Media object" },
            { "url": "/docs/meta/",
              "text": "Meta" },
            { "url": "/docs/misc/",
              "text": "Misc" },
            { "url": "/docs/nav-secondary/",
              "text": "Nav-secondary" },
            { "url": "/docs/post/",
              "text": "Post" },
            { "url": "/docs/print/",
              "text": "Print" },
            { "url": "/docs/summary/",
              "text": "Summary" },
        ]
    },
    "templates_blog": {
        "title": "blog",
        "links": [
           { "text": "index.html",
             "url": "/blog/" },
           { "text": "_post.html",
             "url": "/blog/spring-2014-rulemaking-agenda" }
        ]
    },
    "templates_newsroom": {
        "title": "newsroom",
        "links": [
           { "text": "index.html",
             "url": "/newsroom/" },
           { "text": "_post.html",
             "url": "/newsroom/cfpb-takes-action-against-realtysouth-for-mortgage-disclosure-violations" },
           { "text": "press-resources/index.html",
             "url": "/newsroom/press-resources/" }
        ]
    },
    "templates_contact_us": {
        "title": "contact-us",
        "links": [
           { "text": "index.html",
             "url": "/contact-us/" }
        ]
    },
    "templates_the_bureau": {
        "title": "the-bureau",
        "links": [
           { "text": "index.html",
             "url": "/the-bureau/" },
           { "text": "about-rich-cordray/",
             "url": "/the-bureau/about-rich-cordray/" },
           { "text": "about-steve-antonakes/",
             "url": "/the-bureau/about-steve-antonakes/" },
           { "text": "history/",
             "url": "/the-bureau/history/" }
        ]
    },
    "templates_govdelivery_subscribe": {
        "title": "govdelivery-subscribe",
        "short_desc": "Status pages for GovDelivery subscriptions",
        "links": [
           { "text": "success",
             "url": "/govdelivery-subscribe/success/" },
           { "text": "error",
             "url": "/govdelivery-subscribe/error/" },
           { "text": "server-error",
             "url": "/govdelivery-subscribe/server-error/" }
        ]
    }
}%}

{% block content %}

    <main class="content content__2-1 content__bleedbar" id="main" role="main">

        <!-- .content_bar must come after .content_hero but before .content_wrapper -->
        <div class="content_bar"></div>

        <div class="wrapper">
            <section class="content_intro">
                <div class="content-l">
                    <div class="content-l_col content-l_col-1-2">
                        {{ render_doc_link_list(docs.getting_started) }}
                        {{ render_doc_link_list(docs.pattern_library) }}
                    </div>
                    <div class="content-l_col content-l_col-1-2">
                        <h1 class="h2">
                            Section templates
                        </h1>
                        {{ render_doc_template_list(docs.templates_blog) }}
                        {{ render_doc_template_list(docs.templates_newsroom) }}
                        {{ render_doc_template_list(docs.templates_contact_us) }}
                        {{ render_doc_template_list(docs.templates_the_bureau) }}
                        {{ render_doc_template_list(docs.templates_govdelivery_subscribe) }}
                    </div>
                </div><!-- END .content-l -->
            </section><!-- END .content_intro -->
        </div><!-- END .wrapper -->

    </main>

{% endblock content %}
