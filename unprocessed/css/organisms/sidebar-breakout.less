/* topdoc
  name: Sidebar Breakout
  family: cfgov-organisms
  patterns:
    - name: Default example
      markup: |
        <div class="o-sidebar-breakout
                    content__flush-bottom">
            <div class="content_intro">
                <div class="content-l">
                    <section class="o-sidebar-breakout_col
                                    content-l_col
                                    content-l_col-2-3">
                        <div class="m-text-introduction">…</div>
                    </section>
                    <aside class="o-sidebar-breakout_col
                                  content-l_col
                                  content-l_col-1-3
                                  block
                                  block__flush-top
                                  block__flush-bottom">
                        <h3 class="o-sidebar-breakout_heading">
                        </h3>
                        <div class="o-sidebar-breakout_img-container
                                    u-centered-on-mobile">
                            <div class="o-sidebar-breakout_img
                                        u-centered-on-mobile"
                                 style="background-image:url()">
                            </div>
                        </div>
                        <div class="o-sidebar-breakout_text-container">
                            <h4 class="o-sidebar-breakout_text-heading">
                                <span class="cf-icon"></span>
                            </h4>
                            <p class="o-sidebar-breakout_text-body short-desc">
                            </p>
                            <div class="m-related-posts">…</div>
                        </div>
                    </aside>
                </div>
            </div>
        s</div>
        <div class="content_line"></div>
      codenotes:
        - |
          Structural cheat sheet:
          -----------------------
          .o-sidebar-breakout
            .content_intro
              .content-l
                .o-sidebar-breakout_col
                    .m-text-introduction
                .o-sidebar-breakout_col
                  .o-sidebar-breakout_heading
                  .o-sidebar-breakout_img-container
                    .o-sidebar-breakout_img
                  .o-sidebar-breakout_text-container
                    .o-sidebar-breakout_text-heading
                      .cf-icon
                    .o-sidebar-breakout_text-body
                    .m-related-posts
          .content_line
  tags:
    - cfgov-organisms
*/

@margin__em: unit( @grid_gutter-width / @base-font-size-px, em );
@o-sidebar-breakout_img-width:  300px;
@o-sidebar-breakout_img-height: 170px;

.o-sidebar-breakout {

    .respond-to-max(@bp-xs-max, {
        margin-bottom: @margin__em;
    });

    &_col {

        .respond-to-max(@bp-sm-max, {
            width: 100%;
            &:last-child {
                padding-top: @margin__em;
                border-top: 1px solid @gray-40;
            }
        });

        .respond-to-min(@bp-med-min, {
            &:last-child {
                padding-left: @margin__em;
            }
        });
    }

    &_heading {
        margin-bottom: @margin__em;
    }

    &_img {
        background-repeat: no-repeat;
        background-size: contain;

        // Padding added to maintain 16/9 ratio.
        padding-top: 56.25%;
    }

    &_img-container {
        max-width: @o-sidebar-breakout_img-width;
        max-height: @o-sidebar-breakout_img-height;

        .respond-to-range(@bp-sm-min, @bp-sm-max, {
            float: left;
            width: @o-sidebar-breakout_img-width / @bp-sm-max * 100%;
            margin-right: @margin__em;
        });
    }

    &_img-container__round {
        width: auto;

        .o-sidebar-breakout_img {
            padding: 0;
            height: @o-sidebar-breakout_img-height;
            width: @o-sidebar-breakout_img-height;
        }
    }

    &_text-container {

        .respond-to-range(@bp-sm-min, @bp-sm-max, {
            overflow: auto;
        });
    }

    &_text-body {
        margin-bottom: @margin__em;
    }

    &_text-heading {
        margin-top: @margin__em;
        margin-bottom: @margin__em / 2;

        .respond-to-range(@bp-sm-min, @bp-sm-max, {
            margin-top: 0;
        });
    }

    .m-related-posts_list .m-list_item {

        .respond-to-range(@bp-sm-min, @bp-sm-max, {
            border: 0;
            width: 100%
        });
    }
}


/* topdoc
    name: EOF
    eof: true
*/
