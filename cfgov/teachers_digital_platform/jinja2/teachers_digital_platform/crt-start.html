{% extends 'layout-2-1-bleedbar.html' %}


{# HEAD items #}


{% block title -%}
    Curriculum Review Tool | Consumer Financial Protection Bureau
{%- endblock title %}

{% block desc -%}
    Our vision is a consumer finance marketplace that works for American consumers, responsible providers, and the economy as a whole.
{%- endblock desc %}

{% block og_image -%}
    <meta property="og:image" content="{{ meta_image_url }}">
    <meta property="twitter:image" content="{{ meta_image_url }}">
    {# Optional property if you want to use Twitter's large card format
       https://developer.twitter.com/en/docs/tweets/optimize-with-cards/overview/summary-card-with-large-image
    <meta name="twitter:card" content="summary_large_image">
    #}
{%- endblock og_image %}

{% block og_desc -%}
    {{ self.desc() }}
{%- endblock og_desc %}

{% block css -%}
    {{ super() }}

    <link rel="stylesheet" href="{{ static('tdp/css/tdp.css') }}">
{%- endblock css %}

{# BODY items #}

{% block header %}
    <header class="o-header" role="banner">
        <div class="m-global-eyebrow m-global-eyebrow__horizontal">
            <div class="wrapper wrapper__match-content">
                <div class="m-global-eyebrow_tagline">
                    An official website of the
                    <span class="m-global-eyebrow_tagline-usa">United States Government</span>
                </div>
                &nbsp;
            </div>
        </div>
        <div class="o-header_content">
            <div class="wrapper wrapper__match-content">
                <a class="o-header_logo" href="/">
                    <img class="o-header_logo-img" src="/static/img/logo_237x50.png" srcset="/static/img/logo_161x34.png 161w,
                                /static/img/logo_161x34%402x.png 322w,
                                /static/img/logo_161x34%403x.png 483w,
                                /static/img/logo_161x34%404x.png 644w,
                                /static/img/logo_237x50.png 237w,
                                /static/img/logo_237x50%402x.png 474w" sizes="(max-width: 900px) 161px,
                                237px" alt="Consumer Financial Protection Bureau">
                </a>
            </div>
        </div>
    </header>
{% endblock header %}

{% block hero -%}
{% endblock %}

{% block pre_content %}
{% endblock %}

{% block content_main scoped %}
    <div class="block block__flush-top">
        <h1>Before you begin your review</h1>
        <div class="lead-paragraph">
            <p>It’s helpful to do a few things before starting the curriculum review.</p>
        </div>
        <ol>
            <li>Gather all materials for the curriculum including:
                <ul>
                    <li>Scope and sequence</li>
                    <li>Lesson plans</li>
                    <li>Student assessments</li>
                    <li>Guidance for teachers</li>
                </ul>
            </li>
            <li>Collect studies and other evidence of the curriculum’s impact</li>
            <li>When possible, assemble a team to review the curriculum together</li>
            <li>Set aside up to two to three hours to complete an entire curriculum review or plan to do one dimension at a time</li>
        </ol>
        <h2 class="h4">Not sure how to get ready for your curriculum review?</h2>
        <p>
            <a class="a-link a-link__icon-after-text"
                target="_blank"
                rel="noopener noreferrer"
                href="https://files.consumerfinance.gov/f/documents/cfpb_curriculum-review-tool_checklist-to-get-started_checklist.pdf">
                    <span class="a-link_text">Download our curriculum review checklist</span>
                    <span class="a-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 651.7 1200" class="cf-icon-svg"><path d="M507.1 692.8c-15.6-15.6-40.9-15.6-56.6 0l-85.1 85.1V466.6c0-22.1-17.9-40-40-40s-40 17.9-40 40V778l-85.1-85.1c-15.6-15.6-40.9-15.6-56.6 0-15.6 15.6-15.6 40.9 0 56.6L297 902.9c7.5 7.5 17.7 11.7 28.3 11.7s20.8-4.2 28.3-11.7l153.3-153.4c15.8-15.7 15.8-41 .2-56.7z"></path><path d="M30 161c-16.5 0-30 13.5-30 30v827.8c0 16.5 13.5 30 30 30h591.7c16.5 0 30-13.5 30-30V343.7L469 161H30zm389.6 60v134.8c0 19.9 16.3 36.2 36.2 36.2h135.9V988.8H60V221h359.6z"></path></svg></span></a>.
        </p>
    </div>

    <div class="o-well">
        <!--[if lt IE 9]>
        <div class="u-mb30">
            <h2>Curriculum information</h2>
        </div>
        <div class="m-notification
                    m-notification__visible
                    m-notification__warning">
            <span class="a-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1200" class="cf-icon-svg"><path d="M500 105.2c-276.1 0-500 223.9-500 500s223.9 500 500 500 500-223.9 500-500-223.9-500-500-500zm-49.7 234.6c0-27.6 22.4-50 50-50s50 22.4 50 50v328.6c0 27.6-22.4 50-50 50s-50-22.4-50-50V339.8zm50 582.5c-39.6 0-71.7-32.1-71.7-71.7s32.1-71.7 71.7-71.7S572 811 572 850.6s-32.1 71.7-71.7 71.7z"></path></svg></span>
            <div class="m-notification_content">
                <div class="m-notification_message">
                    <p>You are running an older browser that is not fully supported. Please update your browser to use the online Curriculum Review Tool or
                        <a class="a-link a-link__icon-after-text" target="_blank" rel="noopener noreferrer" href="https://files.consumerfinance.gov/f/201509_cfpb_youth-financial-education-curriculum-review.pdf">use the PDF version</a>.</p>
                </div>
            </div>
        </div>
        <![endif]-->

        <!--[if gte IE 9]><!-->
        <div class="u-mb30">
            <h2>Curriculum information</h2>
            <p>Enter the information for the curriculum you’re reviewing.</p>
        </div>
        <form class="o-form" method="GET" action="../tool">
            <div class="o-form_group">
                <div class="m-form-field
                            m-form-field__text">
                    <label class="a-label
                                    a-label__heading"
                            for="tdp-crt_title">
                        Curriculum title
                    </label>
                    <input class="a-text-input
                                a-text-input__full"
                        type="text"
                        id="tdp-crt_title"
                        oninput="onValuesChanged();">
                </div>
            </div>
            <div class="o-form_group">
                <ul class="content-l m-list m-list__unstyled">
                    <li class="content-l_col content-l_col-1-2">
                        <div class="m-form-field
                                    m-form-field__text">
                            <label class="a-label
                                          a-label__heading"
                                    for="tdp-crt_pubdate">
                                Date of publication
                                <small class="a-label_helper">(optional)</small>
                            </label>
                            <input class="a-text-input
                                          a-text-input__full"
                                    type="text"
                                    id="tdp-crt_pubdate">
                        </div>
                    </li>
                    <li class="content-l_col content-l_col-1-2">
                        <div class="m-form-field
                                    m-form-field__select">
                            <label class="a-label
                                        a-label__heading"
                                for="tdp-crt_grade">
                                Grade range
                            </label>
                            <div class="a-select">
                                <select id="tdp-crt_grade" onchange="onValuesChanged();">
                                    <option value="">Select grade range</option>
                                    <option value="Elementary school">Elementary school</option>
                                    <option value="Middle school">Middle school</option>
                                    <option value="High school">High school</option>
                                </select>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="o-form_group">
                <div class="m-notification
                            m-notification__visible
                            m-notification__warning">
                    <span class="a-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1200" class="cf-icon-svg"><path d="M500 105.2c-276.1 0-500 223.9-500 500s223.9 500 500 500 500-223.9 500-500-223.9-500-500-500zm-49.7 234.6c0-27.6 22.4-50 50-50s50 22.4 50 50v328.6c0 27.6-22.4 50-50 50s-50-22.4-50-50V339.8zm50 582.5c-39.6 0-71.7-32.1-71.7-71.7s32.1-71.7 71.7-71.7S572 811 572 850.6s-32.1 71.7-71.7 71.7z"></path></svg></span>
                    <div class="m-notification_content">
                        <div class="m-notification_message">
                            <h3 class="h4">Limitations around saving your work</h3>
                            <p>
                                After you finish each dimension, we recommend you print the summary or save it as a PDF. Learn more about
                                <button class="a-btn a-btn__link link-push-analytics" onclick="openSaveWorkModalWindow();return false;">how to save your work</button>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="m-btn-group m-btn-group__wide">
                <button id="tdp-crt-begin-review-btn" class="a-btn button-push-analytics" type="submit" onclick="beginReviewButtonClick();return true;" formaction="../tool">
                    Start review
                </button>
                <button id="new-review-modal-dialog-btn" class="a-btn a-btn__link" data-gtm_ignore="true" onclick="openNewReviewModalWindow();return false;">Start over with a new review</button>
            </div>
        </form>
        <!--<![endif]-->
    </div>
{% endblock content_main %}

{% block content_sidebar_modifiers -%}
    o-sidebar-content
{%- endblock %}

{% block content_sidebar scoped -%}
    <div class="block block__flush-top">
        <h2>About us</h2>
        <p>We’re the Consumer Financial Protection Bureau (CFPB), a U.S. government agency that makes sure banks, lenders, and other financial companies treat you fairly.</p>
        <p><a href="https://www.consumerfinance.gov/about-us/the-bureau/">Learn how the CFPB can help you</a></p>
    </div>
    <div class="block">
        <header class="m-slug-header">
            <h2 class="a-heading">
                PDF version of curriculum review tool
            </h2>
        </header>
        <p>Want to download or print a blank copy of the review?</p>
        <p>
            <a class="a-link a-link__icon-after-text"
                target="_blank"
                rel="noopener noreferrer"
                href="https://files.consumerfinance.gov/f/documents/cfpb_youth-financial-education-curriculum-review-tool.pdf">
                    <span class="a-link_text">Download the curriculum review</span>
                    <span class="a-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 651.7 1200" class="cf-icon-svg">
                            <path d="M507.1 692.8c-15.6-15.6-40.9-15.6-56.6 0l-85.1 85.1V466.6c0-22.1-17.9-40-40-40s-40 17.9-40 40V778l-85.1-85.1c-15.6-15.6-40.9-15.6-56.6 0-15.6 15.6-15.6 40.9 0 56.6L297 902.9c7.5 7.5 17.7 11.7 28.3 11.7s20.8-4.2 28.3-11.7l153.3-153.4c15.8-15.7 15.8-41 .2-56.7z"></path>
                            <path d="M30 161c-16.5 0-30 13.5-30 30v827.8c0 16.5 13.5 30 30 30h591.7c16.5 0 30-13.5 30-30V343.7L469 161H30zm389.6 60v134.8c0 19.9 16.3 36.2 36.2 36.2h135.9V988.8H60V221h359.6z"></path>
                        </svg>
                    </span>
                </a>
        </p>
    </div>
    <div class="block">
        <header class="m-slug-header">
            <h2 class="a-heading">
                Helpful terms to know
            </h2>
        </header>
        <p><strong>Curriculum:</strong> A complete set of materials for teaching a focused subject area that includes learning objectives, teaching methods, assignments, handouts and teaching supports, and sequence of instruction</p>
        <p><strong>Dimension:</strong> A key aspect (content, utility, quality, and efficacy) of a financial education curriculum to be evaluated</p>
        <p><strong>Criteria:</strong> Important features or content areas of the curriculum</p>
        <p><strong>Indicator:</strong> Specific elements or characteristics of a curriculum related to an evaluation criterion</p>
        <p><strong>Components:</strong> Statements or questions that help you determine if the curriculum meets an indicator</p>
    </div>
{%- endblock %}

{% block javascript scoped -%}
    <div class="o-modal"
        id="modal-start-over"
        tabindex="0"
        aria-hidden="true"
        role="alertdialog"
        aria-labelledby="modal-start-over_title"
        aria-describedby="modal-start-over_desc">
        <div class="o-modal_backdrop"></div>
        <div class="o-modal_container">
            <form class="o-modal_content">
                <div class="o-modal_body">
                    <button class="o-modal_close a-btn a-btn__link start-over-close-push-analytics" onclick="closeNewReviewModalWindow();return false;">
                        Close<span class="a-icon a-icon__large a-icon__space-before"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1200" class="cf-icon-svg"><path d="M500 105.2c-276.1 0-500 223.9-500 500s223.9 500 500 500 500-223.9 500-500-223.9-500-500-500zm261.8 692.2c19.4 19.6 19.3 51.3-.3 70.7-19.5 19.3-50.9 19.3-70.4 0L499.6 676.6 308 868.1c-19.6 19.4-51.3 19.3-70.7-.3-19.3-19.5-19.3-50.9 0-70.4l191.6-191.5-191.6-191.6c-19.3-19.8-18.9-51.4.9-70.7 19.4-18.9 50.4-18.9 69.8 0l191.6 191.5 191.5-191.5c19.6-19.4 51.3-19.3 70.7.3 19.3 19.5 19.3 50.9 0 70.4L570.3 605.9l191.5 191.5z"></path></svg></span>
                    </button>
                    <h2 id="modal-start-over_title" class="h3">Starting over</h2>
                    <div id="modal-start-over_desc">
                        <p>Starting a new review will erase your answers for all dimensions. Are you sure you want to start a new review?</p>
                    </div>
                </div>
                <div class="o-modal_footer">
                    <div class="m-btn-group m-btn-group__wide">
                        <button class="a-btn start-over-push-analytics" onclick="clearLocalStorage(); return false;">Yes</button>
                        <button class="a-btn a-btn__link start-over-close-push-analytics" onclick="closeNewReviewModalWindow(); return false;">No, return to current review</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="o-modal"
        id="modal-save-work"
        tabindex="0"
        aria-hidden="true"
        role="alertdialog"
        aria-labelledby="modal-save-work_title"
        aria-describedby="modal-save-work_desc">
        <div class="o-modal_backdrop"></div>
        <div class="o-modal_container">
            <form class="o-modal_content">
                <div class="o-modal_body">
                    <button class="o-modal_close a-btn a-btn__link save-work-push-analytics"  onclick="closeSaveWorkModalWindow(); return false;">
                        Close<span class="a-icon a-icon__large a-icon__space-before"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1200" class="cf-icon-svg"><path d="M500 105.2c-276.1 0-500 223.9-500 500s223.9 500 500 500 500-223.9 500-500-223.9-500-500-500zm261.8 692.2c19.4 19.6 19.3 51.3-.3 70.7-19.5 19.3-50.9 19.3-70.4 0L499.6 676.6 308 868.1c-19.6 19.4-51.3 19.3-70.7-.3-19.3-19.5-19.3-50.9 0-70.4l191.6-191.5-191.6-191.6c-19.3-19.8-18.9-51.4.9-70.7 19.4-18.9 50.4-18.9 69.8 0l191.6 191.5 191.5-191.5c19.6-19.4 51.3-19.3 70.7.3 19.3 19.5 19.3 50.9 0 70.4L570.3 605.9l191.5 191.5z"></path></svg></span>
                    </button>
                    <h2 id="modal-save-work_title" class="h3">Saving your work</h2>
                    <div id="modal-save-work_desc">
                        <p>This tool uses cookies to <strong>temporarily</strong> save your work. To see answers you’ve already completed, you need to use the same computer and browser, and don’t clear your cookies.</p>
                        <p>To save a permanent copy of your work, please print the summary or save it as a PDF for every dimension as you complete it. You can also print or save a summary of the entire review. Learn how to <a href="https://www.consumerfinance.gov/consumer-tools/save-as-pdf-instructions/" class="push-download-analytics" target="_blank" rel="noopener noreferrer">save the summary as a PDF</a>.</p>
                        <p>You can only work on a single curriculum at a time</p>
                    </div>
                </div>
                <div class="o-modal_footer">
                    <button class="a-btn save-work-push-analytics" onclick="closeSaveWorkModalWindow(); return false;">Close</button>
                </div>
            </form>
        </div>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript">

        var category="curriculum review tool interaction";

        // Tracks analytics for links on page clicked
        $('button.link-push-analytics').click(function() {
            var link_text = $(this).text().trim();
            var action="link clicked: " + link_text;
            buttonLinkClicked(action, link_text);
        });

        $('button.button-push-analytics').click(function() {
            var link_text = $(this).text().trim();
            var action="button clicked";
            buttonLinkClicked(action, link_text);
        });

        $('button.save-work-push-analytics').click(function() {
            var action = "save work modal"
            var label = $(this).text().trim();
            modelButtonClicked(action, label);
        });

        $('button.start-over-push-analytics').click(function() {
            var action = "Starting over modal"
            var label = $(this).text().trim();
            modelButtonClicked(action, label);
        });

        $('button.start-over-close-push-analytics').click(function() {
            var action = "Starting over modal"
            var label = $(this).text().trim();
            modelButtonClicked(action, label);
        });

        $('a.push-download-analytics').click(function() {
            var link_text = $(this).text().trim();
            var link_url = $(this).attr('href');
            sendAnalytics(link_text, link_url, "Downloads");
        });

        function buttonLinkClicked(action, link_text) {
            var label=link_text;
            sendAnalytics(action, link_text, category);
        }

        function modelButtonClicked(action, label) {
            sendAnalytics(action, label, category);
        }

        function sendAnalytics(action, label, category) {
            var data = {
                event:         category || "curriculum review tool interaction",
                action:        action.trim(),
                label:         label || ""
            }

            track(data.event, data.action, data.label);
        }

        function track( event, action, label ) {
            window.dataLayer.push( {
                event: event,
                action: action,
                label: label
            } );
        }
    </script>
    <script>
        /**
         * The below code manages the enabling/disabling of the submit button
         * Also manages the saving and setting of the Title, Date, & Grade Range
         */

        var newReviewModalWindow = document.getElementById('modal-start-over');
        var saveWorkModalWindow = document.getElementById('modal-save-work');
        var gradeRange = document.getElementById('tdp-crt_grade');

        // Call to get things initialized
        setInitialFormValues();

        /*
         * Set the values based on localStorage
         */
        function setInitialFormValues() {
            document.getElementById('tdp-crt_title').value = localStorage.getItem('curriculumTitle') || "";
            document.getElementById('tdp-crt_pubdate').value = localStorage.getItem('publicationDate') || "";
            document.getElementById('tdp-crt_grade').value = localStorage.getItem('gradeRange') || "";

            setBeginReviewButtonEnabling();

            //Escape closes both modal dialogs
            document.onkeydown = function(evt) {
                evt = evt || window.event;
                if (evt.keyCode == 27) {
                    closeSaveWorkModalWindow();
                    closeNewReviewModalWindow();
                }
            };
        }

        /*
         * Add this function to any required field so we can monitor changed values
         */
        function onValuesChanged(value) {
            setBeginReviewButtonEnabling();
        }

        /*
         * Method to manage enabling or dissabling begin button based on form values
         */
        function setBeginReviewButtonEnabling() {
            var selectedGradeValue = gradeRange.value;

            //check required fields have values
            var isValidGradeSelected = selectedGradeValue === "Elementary school" ||
                                       selectedGradeValue === "Middle school" ||
                                       selectedGradeValue === "High school";
            var isEnabled = isValidGradeSelected && document.getElementById('tdp-crt_title').value;

            document.getElementById('tdp-crt-begin-review-btn').disabled = !isEnabled;
        }

        /*
         * Method that actually saves values (Title, Date, & Grad Range)
         */
        function beginReviewButtonClick() {
            var curriculumTitle = document.getElementById('tdp-crt_title').value;
            localStorage.setItem('curriculumTitle', curriculumTitle);

            var publicationDate = document.getElementById('tdp-crt_pubdate').value;
            localStorage.setItem('publicationDate', publicationDate);

            var gradeRange = document.getElementById('tdp-crt_grade').value;
            localStorage.setItem('gradeRange', gradeRange);

            recordAnalyticsForPage(curriculumTitle, publicationDate, gradeRange);
        }

        /*
         * When user starts a new reveiw we need to send analytics for
         * Curriculum Title, Publication Date, & Grade Range
         */
        function recordAnalyticsForPage(curriculumTitle, publicationDate, gradeRange) {
            var category="curriculum review tool interaction";
            // Analytics curriculum title
            sendAnalytics("curriculum title", curriculumTitle.trim(), category);

            // Analytics date of publication
            publicationDate = publicationDate ? publicationDate.trim() : "unspecified";
            sendAnalytics("date of publication", publicationDate, category);

            // Analytics grade range
            sendAnalytics("grade range", gradeRange, category);
        }

        /*
         * User has choosen to clear all values and start over
         */
        function clearLocalStorage() {
            localStorage.clear();

            document.getElementById('tdp-crt_title').value = localStorage.getItem('curriculumTitle') || "";
            document.getElementById('tdp-crt_pubdate').value = localStorage.getItem('publicationDate') || "";
            document.getElementById('tdp-crt_grade').value = localStorage.getItem('gradeRange') || "";

            closeNewReviewModalWindow();
            setBeginReviewButtonEnabling();
        }

        /*
         * Open New Review Warning Modal Dialog
         */
        var openingNewReviewModal = false;
        function openNewReviewModalWindow() {
            //Allow screen readers to see dialog
            document.getElementById("modal-start-over").setAttribute("aria-hidden", "false");

            openingNewReviewModal = true;
            newReviewModalWindow.className += ' o-modal__visible';
            newReviewModalWindow.focus();
            document.addEventListener('click', newReviewOutsideClickListener);

            // Analytics Send start over with new review modal opened
            sendAnalytics("link clicked: Start over with a new review", "Starting over");
        }

        /*
         * Close New Review Warning Modal Dialog
         */
        function closeNewReviewModalWindow() {
            //Hide from screen readers
            document.getElementById("modal-start-over").setAttribute("aria-hidden", "false");
            removeClassFromElement(newReviewModalWindow, 'o-modal__visible');
            document.removeEventListener('click', newReviewOutsideClickListener);
        }

        /*
         * Open Save Work Warning Modal Dialog
         */
        var openingSaveWorkModal = false;
        function openSaveWorkModalWindow() {
            //Allow screen readers to see dialog
            document.getElementById("modal-save-work").setAttribute("aria-hidden", "false");

            openingSaveWorkModal = true;
            saveWorkModalWindow.className += ' o-modal__visible';
            saveWorkModalWindow.focus();
            document.addEventListener('click', saveWorkOutsideClickListener);
        }

        /*
         * Close Save Work Warning Modal Dialog
         */
        function closeSaveWorkModalWindow() {
            //Hide from screen readers
            document.getElementById("modal-save-work").setAttribute("aria-hidden", "true");
            removeClassFromElement(saveWorkModalWindow, 'o-modal__visible');
            document.removeEventListener('click', saveWorkOutsideClickListener);
        }

        /*
         * Some versions of IE do not support standard functionality when it
         * comes to removing classnames.  So we need to split remove then join
         */
        function removeClassFromElement(element, classNameToRemove) {
            var classes = element.className.split(' ')
            var idx = classes.indexOf(classNameToRemove)
            if (idx !== -1) classes.splice(idx,1)
            element.className = classes.join(' ')
        }

        /*
         * Method to close New Review daialog if click outside
         */
        function newReviewOutsideClickListener(event) {
            var startOverModal = document.querySelector("#modal-start-over .o-modal_content");
            if (!openingNewReviewModal && !startOverModal.contains(event.target)) {
              closeNewReviewModalWindow();
            }

            // Since it wants to close on open we need a use this flag on first trigger
            if (openingNewReviewModal) {
              openingNewReviewModal = false;
            }
        }

        /*
         * Method to close Save Work daialog if click outside
         */
        function saveWorkOutsideClickListener(event) {
            var startOverModal = document.querySelector("#modal-save-work .o-modal_content");
            if (!openingSaveWorkModal && !startOverModal.contains(event.target)) {
              closeSaveWorkModalWindow();
            }

            // Since it wants to close on open we need a use this flag on first trigger
            if (openingSaveWorkModal) {
              openingSaveWorkModal = false;
            }
        }
    </script>
{%- endblock javascript %}
