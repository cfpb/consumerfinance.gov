
{# ==========================================================================

   Table

   ==========================================================================

   Description:

   Create a table.
   See [GHE]/flapjack/Modules-V1/wiki/Tables

   ========================================================================== #}

<table class="o-table
              {{ 'o-table__row-links' if value.row_links else '' }}
              {{ 'table__stack-on-small' if value.is_stacked else '' }}
              {{ 'table__striped' if value.is_striped else '' }}
              {{ 'u-w100pct' if value.is_full_width else '' }}">
    {% set row_index = 0 %}
    {% if value.first_row_is_table_header and value.data | list | length > 0 %}
    {% set row_index = 1 %}
    <thead>
        <tr>
            {% for column in value.data[0] %}
                {% if column is defined %}
                <th>
                    {{ column | trim | safe | linebreaksbr }}
                </th>
                {% endif %}
            {% endfor %}
        </tr>
    </thead>
    {% endif %}
    <tbody>
    {% for row in value.data[row_index:] or [] %}
        <tr>
            {% for cell in row or [] %}
                {% set tag = 'th' if value.first_col_is_header and loop.first else 'td' %}
                <{{tag}} data-label="{{ value.data[0][loop.index0] }}">
                    {{ cell | trim | safe | linebreaksbr }}
                </{{tag}}>
            {% endfor %}
        </tr>
    {% endfor %}
    </tbody>
</table>
