{#
  Navigation and Sub-Navigation menu items,
  used to populate the contents of the site's navigation menus (Mega Menu).

  Format:

  media_items:     Array of tuples containing a media item lookup map.
  media_items.url: The URL of the menu item.
                   Used to look up the featured menu content.
  media_item.fmc:  Featured Menu Content.

  nav_groups:                      Array of nav_groups.

  nav_group:                       Properties for group of nav_items
  nav_group.title:                 Title for group of nav_items
  nav_group.hide_title:            Hides title of group of nav_items
                                   Use if group shares title with prev group
  nav_group.nav_items:             Array of nav_items.

  nav_item:                        Properties of a nav_item.
  nav_item.text:                   Nav item link text.
  nav_item.url:                    Nav item link URL.
  nav_item.footer:                 Array of nav item footer content.
  nav_item.nav_groups:             Array of nav item submenus,
                                   recursively repeats nav_group structure.
#}

{% import 'molecules/featured-menu-content.html' as featured_menu_content %}

{# Featured Menu Content #}

{% set poly_com_content = {
    'value': {
        'link': {
            'text': 'Resources to help you comply',
            'url':  '/policy-compliance/guidance/implementation-guidance/',
        },
        'image': {
            'url': 'img/fmc-poly-com-540x300.jpg',
            'alt': '',
        },
        'body': 'The TILA-RESPA integrated disclosure rule ' +
                'replaces four disclosure forms with two new ones. ' +
                'We have resources to help you comply.',
    }
    
} %}

{% set consumer_tools_content = {
    'value': {
        'link': {
            'text': 'Get your financial well-being score',
            'url':  '/consumer-tools/financial-well-being/',
        },
        'image': {
            'url': 'img/fmc-consumer-tools-540x300.png',
            'alt': '',
        },
        'body': 'Answer ten questions and see your financial well-being score, ' +
                'along with national averages.',
    }
} %}

{% set resources_content = {
    'value': {
        'link': {
            'text': 'Explore financial well-being survey results',
            'url':  '/data-research/research-reports/financial-well-being-america/',
        },
        'image': {
            'url': 'img/fmc-resources-540x300.png',
            'alt': '',
        },
        'body': 'See national survey results on financial well-being and how it ' +
                'relates to other factors in a person’s financial life.',
    }
} %}

{% set data_research_content = {
    'value': {
        'link': {
            'text': 'Help advance financial well-being',
            'url':  '/data-research/financial-well-being-survey-data/',
        },
        'image': {
            'url': 'img/fmc-data-research-540x300.png',
            'alt': '',
        },
        'body': 'Explore our national survey data and think about ways to empower ' +
                'families to achieve higher financial well-being.',
    }
} %}

{# Consumer Tools menu items #}

{% set consumer_tools_group_one =  {
    'type': 'nav_group',
    'value': {
        'group_title': 'Money Topics',
        'nav_items': [
            {'link': {
                'link_text': 'Auto Loans',
                'external_link': '/consumer-tools/auto-loans/'
            }},
            {'link': {
                'link_text': 'Bank Accounts & Services',
                'external_link': '/consumer-tools/bank-accounts/'
            }},
            {'link':{
                'link_text': 'Credit Cards',
                'external_link': '/ask-cfpb/category-credit-cards/'
            }},
            {'link':{
                'link_text': 'Credit Reports & Scores',
                'external_link': '/consumer-tools/credit-reports-and-scores/'
            }},
            {'link':{
                'link_text': 'Debt Collection',
                'external_link': '/consumer-tools/debt-collection/'
            }},
        ]
    }
} %}

{% set consumer_tools_group_two = {
    'type': 'nav_group',
    'value': {
        'group_title': 'Money Topics',
        'hide_group_title': 'true',
        'nav_items': [
            {'link':{
                'link_text': 'Money Transfers',
                'external_link': '/sending-money/'
            }},
            {'link':{
                'link_text': 'Mortgages',
                'external_link': '/consumer-tools/mortgages/'
            }},
            {'link':{
                'link_text': 'Payday Loans',
                'external_link': '/ask-cfpb/category-payday-loans/'
            }},
            {'link':{
                'link_text': 'Prepaid Cards',
                'external_link': '/consumer-tools/prepaid-cards/'
            }},
            {'link':{
                'link_text': 'Student Loans',
                'external_link': '/consumer-tools/student-loans/'
            }},
        ]
    }
} %}

{% set consumer_tools_group_three = {
    'type': 'nav_group',
    'value': {
        'group_title': 'Guides',
        'nav_items': [
            {'link':{
                'link_text': 'Getting an Auto Loan',
                'external_link': '/consumer-tools/getting-an-auto-loan/'
            }},
            {'link':{
                'link_text': 'Managing Someone Else’s Money',
                'external_link': '/consumer-tools/managing-someone-elses-money/'
            }},
            {'link':{
                'link_text': 'Money as You Grow',
                'external_link': '/consumer-tools/money-as-you-grow/'
            }},
            {'link':{
                'link_text': 'Navigating the Military Financial Lifecycle',
                'external_link': '/consumer-tools/military-financial-lifecycle/'
            }},
            {'link':{
                'link_text': 'Owning a Home',
                'external_link': '/owning-a-home/'
            }},
            {'link':{
                'link_text': 'Paying for College',
                'external_link': '/paying-for-college/'
            }},
            {'link':{
                'link_text': 'Planning for Retirement',
                'external_link': '/consumer-tools/retirement/'
            }},
        ]
    }
} %}

{% set consumer_tools = {
    'link_text': 'Consumer Tools',
    'external_link': '#',
    'featured_content': consumer_tools_content,
    'footer': {
        'type': 'footer',
        'value': {
            'content': 
                '<p>Browse answers to hundreds of financial questions. <a href="/ask-cfpb/" class="o-mega-menu_content-link">Ask CFPB</a></p>
                <p>Have an issue with a financial product? <a href="/complaint/" class="o-mega-menu_content-link">Submit a complaint</a></p>',
        }
    },
    'nav_groups': [
        consumer_tools_group_one,
        consumer_tools_group_two,
        consumer_tools_group_three,
    ],
} %}


{# Practitioner Resources menu items #}

{% set practitioner_resources_group_one = {
    'type': 'nav_group',
    'value': {
        'group_title': 'Populations Served',
        'nav_items': [
            {'link':{
                'link_text': 'Adult Financial Education',
                'external_link': '/practitioner-resources/adult-financial-education/'
            }},
            {'link':{
                'link_text': 'Economically Vulnerable Consumers',
                'external_link': '/practitioner-resources/economically-vulnerable/'
            }},
            {'link':{
                'link_text': 'Older Adults & Their Families',
                'external_link': '/practitioner-resources/resources-for-older-adults/'
            }}
        ]
    }
} %}
{% set practitioner_resources_group_two = {
    'type': 'nav_group',
    'value': {
        'group_title': 'Populations Served',
        'hide_group_title': 'true',
        'nav_items': [
            {'link':{
                'link_text': 'Servicemembers & Veterans',
                'external_link': '/practitioner-resources/servicemembers/'
            }},
            {'link':{
                'link_text': 'Students & Student Loan Borrowers',
                'external_link': '/practitioner-resources/students/'
            }},
            {'link':{
                'link_text': 'Youth Financial Education',
                'external_link': '/practitioner-resources/youth-financial-education/'
            }}
        ]
    }
} %}
{% set practitioner_resources_group_three = {
    'type': 'nav_group',
    'value': {
        'group_title': 'Programs',
        'nav_items': [
            {'link':{
                'link_text': 'Resources for Libraries',
                'external_link': '/practitioner-resources/library-resources/'
            }},
            {'link':{
                'link_text': 'Resources for Tax Preparers',
                'external_link': '/practitioner-resources/resources-for-tax-preparers/'
            }},
            {'link':{
                'link_text': 'Your Money, Your Goals',
                'external_link': '/practitioner-resources/your-money-your-goals/'
            }},
        ]
    }
} %}

{% if flag_enabled('FINANCIAL_COACHING', request) %}
    {% set practitioner_resources_group_three = {
        'title': 'Programs',
        'nav_items': [
            {'text': 'Financial Coaching', 'url': '/practitioner-resources/financial-coaching/'},
            {'text': 'Resources for Libraries', 'url': '/practitioner-resources/library-resources/'},
            {'text': 'Resources for Tax Preparers', 'url': '/practitioner-resources/resources-for-tax-preparers/'},
            {'text': 'Your Money, Your Goals', 'url': '/practitioner-resources/your-money-your-goals/'},
        ]
    } %}
{% endif %}

{% set practitioner_resources = {
    'link_text': 'Practitioner Resources',
    'external_link': '#',
    'featured_content': resources_content,
    'footer': {
        'type': 'footer',
        'value': {
            'content':'<p><a href="https://pueblo.gpo.gov/CFPBPubs/CFPBPubs.php" class="o-mega-menu_content-link">Order free brochures</a></p>'
        }
    },
    'nav_groups': [
        practitioner_resources_group_one,
        practitioner_resources_group_two,
        practitioner_resources_group_three,
    ],
} %}


{# Data & Research menu items #}

{% if flag_disabled('MORTGAGE_PERFORMANCE_RELEASE', request) %}
  {% set data_research_group_one = {
      'type': 'nav_group',
      'value': {
          'nav_items': [
                {'link':{
                    'link_text': 'Research & Reports',
                    'external_link': '/data-research/research-reports/'
                }},
                {'link':{
                    'link_text': 'CFPB Research Conference',
                    'external_link': '/data-research/cfpb-research-conference/'
                }},
                {'link':{
                    'link_text': 'CFPB Researchers',
                    'external_link': '/data-research/cfpb-researchers/'
                }},
          ]
      }
  } %}
  {% set data_research_group_two = {
      'type': 'nav_group',
      'value': {
          'nav_items': [
                {'link':{
                    'link_text': 'Consumer Complaint Database',
                    'external_link': '/data-research/consumer-complaints/'
                }},
                {'link':{
                    'link_text': 'Mortgage Database (HMDA)',
                    'external_link': '/data-research/mortgage-data-hmda/'
                }},
          ]
      }
    
  } %}
  {% set data_research_group_three = {
      'type': 'nav_group',
      'value': {
          'nav_items': [
                {'link':{
                    'link_text': 'Consumer Credit Trends',
                    'external_link': '/data-research/consumer-credit-trends/'
                }},
                {'link':{
                    'link_text': 'Credit Card Surveys & Agreements',
                    'external_link': '/data-research/credit-card-data/'
                }},
                {'link':{
                    'link_text': 'Financial Well-Being Survey',
                    'external_link': '/data-research/financial-well-being-survey-data/'
                }},
          ]
      }
  } %}
{% endif %}

{% if flag_enabled('MORTGAGE_PERFORMANCE_RELEASE', request) %}
  {% set data_research_group_one = {
      'type': 'nav_group',
      'value': {
          'nav_items': [
                {'link':{
                    'link_text': 'Research & Reports',
                    'external_link': '/data-research/research-reports/'
                }},
                {'link':{
                    'link_text': 'Consumer Complaint Database',
                    'external_link': '/data-research/consumer-complaints/'
                }},
                {'link':{
                    'link_text': 'Mortgage Database (HMDA)',
                    'external_link': '/data-research/mortgage-data-hmda/'
                }},
          ]
      }
  } %}
  {% set data_research_group_two = {
      'type': 'nav_group',
      'value': {
          'nav_items': [
                {'link':{
                    'link_text': 'Consumer Credit Trends',
                    'external_link': '/data-research/consumer-credit-trends/'
                }},
                {'link':{
                    'link_text': 'Mortgage Performance Trends',
                    'external_link': '/data-research/mortgage-performance-trends/'
                }},
                {'link':{
                    'link_text': 'Financial Well-Being Survey',
                    'external_link': '/data-research/financial-well-being-survey-data/'
                }},
          ]
     }
  } %}
  {% set data_research_group_three = {
      'type': 'nav_group',
      'value': {
          'nav_items': [
                {'link':{
                    'link_text': 'Credit Card Surveys & Agreements',
                    'external_link': '/data-research/credit-card-data/'
                }},
                {'link':{
                    'link_text': 'CFPB Research Conference',
                    'external_link': '/data-research/cfpb-research-conference/'
                }},
                {'link':{
                    'link_text': 'CFPB Researchers',
                    'external_link': '/data-research/cfpb-researchers/'
                }},
          ]
     }
  } %}
{% endif %}

{% set data_research = {
    'link_text': 'Data & Research',
    'external_link': '/data-research/',
    'featured_content': data_research_content,
    'nav_groups': [
        data_research_group_one,
        data_research_group_two,
        data_research_group_three,
    ],
} %}

{# Policy & Compliance menu items #}

{% set policy_compliance_group_one = {
    'type': 'nav_group',
    'value': {
        'nav_items': [
            {
                'link_text': 'Rulemaking',
                'external_link': '/policy-compliance/rulemaking/',
                'nav_groups': [{
                    'value': {
                        'nav_items': [
                            {'link':{
                                'link_text': 'Final Rules',
                                'external_link': '/policy-compliance/rulemaking/final-rules/'
                            }},
                            {'link':{
                                'link_text': 'Rules Under Development',
                                'external_link': '/policy-compliance/rulemaking/rules-under-development/'
                            }},
                            {'link':{
                                'link_text': 'Regulatory Agenda',
                                'external_link': '/policy-compliance/rulemaking/regulatory-agenda/'
                            }},
                            {'link':{
                                'link_text': 'Small Business Review Panels',
                                'external_link': '/policy-compliance/rulemaking/small-business-review-panels/'
                            }},
                        ]
                    }
                }]
            },
        ]
    }
} %}

{% set policy_compliance_group_two = {
    'type': 'nav_group',
    'value': {
        'nav_items': [
            {
                'link_text': 'Compliance & Guidance',
                'external_link': '/policy-compliance/guidance/',
                'nav_groups': [{
                    'value': { 
                        'nav_items': [
                            {'link':{
                                'link_text': 'Implementation & Guidance',
                                'external_link': '/policy-compliance/guidance/implementation-guidance/'
                            }},
                            {'link':{
                                'link_text': 'Supervision & Examinations',
                                'external_link': '/policy-compliance/guidance/supervision-examinations/'
                            }},
                            {'link':{
                                'link_text': 'Supervisory Highlights',
                                'external_link': '/policy-compliance/guidance/supervisory-highlights/'
                            }},
                        ]
                    }
                }]
            },
            {
                'link_text': 'Enforcement',
                'external_link': '/policy-compliance/enforcement/',
                'nav_groups': [{
                    'value': {
                        'nav_items': [
                            {'link':{
                                'link_text': 'Enforcement Actions',
                                'external_link': '/policy-compliance/enforcement/actions/'
                            }},
                            {'link':{
                                'link_text': 'Petitions to Modify or Set Aside',
                                'external_link': '/policy-compliance/enforcement/petitions/'
                            }},
                            {'link':{
                                'link_text': 'Warning Letters',
                                'external_link': '/policy-compliance/enforcement/warning-letters/'
                            }},
                        ]
                    }
                }]
            },
        ]
    }
} %}

{% set policy_compliance_group_three = {
    'type': 'nav_group',
    'value': {
        'nav_items': [
            {
                'link_text': 'Notices & Opportunities to Comment',
                'external_link': '/policy-compliance/notice-opportunities-comment/',
                'nav_groups': [{
                    'value': {
                        'nav_items': [
                            {'link':{
                                'link_text': 'Open Notices',
                                'external_link': '/policy-compliance/notice-opportunities-comment/open-notices/'
                            }},
                            {'link':{
                                'link_text': 'Archive of Closed Notices',
                                'external_link': '/policy-compliance/notice-opportunities-comment/archive-closed/'
                            }},
                        ]
                    }
                }]
            },
            {
                'link_text': 'Amicus Program',
                'external_link': '/policy-compliance/amicus/',
                'nav_groups': [{
                    'value': {
                        'nav_items': [
                            {'link':{
                                'link_text': 'Filed Briefs',
                                'external_link': '/policy-compliance/amicus/briefs/'
                            }},
                            {'link':{
                                'link_text': 'Suggest a Case',
                                'external_link': '/policy-compliance/amicus/suggest/'
                            }},
                        ]
                    }
                }]
            },
        ]
    }
} %}

{% set policy_compliance = {
    'link_text': 'Policy & Compliance',
    'external_link': '/policy-compliance/',
    'featured_content': poly_com_content,
    'nav_groups': [
        policy_compliance_group_one,
        policy_compliance_group_two,
        policy_compliance_group_three,
    ],
} %}


{# About Us menu items #}

{% set about_us_group_one = {
    'type': 'nav_group',
    'value': {
        'nav_items': [
            {'link':{
                'link_text': 'The Bureau',
                'external_link': '/about-us/the-bureau/'
            }},
            {'link':{
                'link_text': 'Budget & Strategy',
                'external_link': '/about-us/budget-strategy/'
            }},
            {'link':{
                'link_text': 'Payments to Harmed Consumers',
                'external_link': '/about-us/payments-harmed-consumers/'
            }},
        ]
    }
} %}

{% set about_us_group_two = {
    'type': 'nav_group',
    'value': {
        'nav_items': [
            {'link':{
                'link_text': 'Recent Updates',
                'external_link': '/activity-log/'
            }},
            {'link':{
                'link_text': 'Blog',
                'external_link': '/about-us/blog/'
            }},
            {'link':{
                    'link_text': 'Newsroom',
                    'external_link': '/about-us/newsroom/'
            }},
            {'link':{
                'link_text': 'Events',
                'external_link': '/about-us/events/'
            }},
        ]
    }
} %}

{% set about_us_group_three = {
    'type': 'nav_group',
    'value': {
        'nav_items': [
            {'link':{
                'link_text': 'Careers',
                'external_link': '/about-us/careers/',
                'nav_groups': [{
                    'value': {
                        'nav_items': [
                            {'link':{
                                'link_text': 'Working @ CFPB',
                                'external_link': '/about-us/careers/working-at-cfpb/'
                            }},
                            {'link':{
                                'link_text': 'Job Application Process',
                                'external_link': '/about-us/careers/application-process/'
                            }},
                            {'link':{
                                'link_text': 'Students & Recent Graduates',
                                'external_link': '/about-us/careers/students-and-graduates/'
                            }},
                            {'link':{
                                'link_text': 'All Current Openings',
                                'external_link': '/about-us/careers/current-openings/'
                            }},
                        ]
                    }
                }]
        
            }},
            {'link':{
                'link_text': 'Doing Business With Us',
                'external_link': '/about-us/doing-business-with-us/'
            }},
            {'link':{
                'link_text': 'Advisory Groups',
                'external_link': '/about-us/advisory-groups/'
            }},
            {'link':{
                'link_text': 'Project Catalyst',
                'external_link': '/about-us/project-catalyst/'
            }},
            {'link':{
                'link_text': 'Contact Us',
                'external_link': '/about-us/contact-us/'
            }},
        ]
    }
} %}

{% set about_us = {
    'link_text': 'About Us',
    'external_link': '/about-us/',
    'nav_groups': [
        about_us_group_one,
        about_us_group_two,
        about_us_group_three,
    ],
} %}


{# Top level group configuration #}

{% set menu_items = [
        consumer_tools,
        practitioner_resources,
        data_research,
        policy_compliance,
        about_us,
    ]
%}
