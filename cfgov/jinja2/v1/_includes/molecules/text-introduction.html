{# =========================================================================

   Text Introduction

   =========================================================================

   Description:

   Create a Text Introduction molecule.
   See [GHE]/flapjack/Modules-V1/wiki/Text-Introduction

   value:                 Object defined from a StreamField block.

   value.heading:         (Optional) String for heading text.

   value.intro:           (Optional) String for body introduction text.

   value.intro.source:    TODO: add type and description.

   value.body:            (Optional) String for body text.

   value.link_is_button:  (Optional) Boolean for whether the link should be
                          rendered as a button. Default is false.

   value.links:           A tuple of items to create a list of links, containing:

   value.links[i].text:   (Optional) A string for the text of the link.

   value.links[i].url:    A string for the URL of the link.

   value.has_rule:        Whether or not to render a rule line (border-bottom)
                          at the bottom of the molecule.

   ========================================================================== #}

{% if value.heading %}
    <h1>{{ value.heading }}</h1>
{% endif %}
{% if value.intro.source %}
    <div class="lead-paragraph">
        {{ parse_links(value.intro) | safe }}
    </div>
{% endif %}
{% if value.body %}
    {{ parse_links(value.body) | safe }}
{% endif %}
{% for link in value.links %}
    {% if link.text %}
        {% if loop.first %}<ul class="list list__links">{% endif %}
            {% set link_class = 'btn' if value.link_is_button else 'list_link' %}
            <li class="list_item">
                <a class="{{ link_class }}" href="{{ link.url }}">
                    {{ link.text }}
                </a>
            </li>
        {% if loop.last %}</ul>{% endif %}
    {% endif %}
{% endfor %}
