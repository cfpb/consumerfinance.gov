{% extends 'wagtailadmin/reports/listing/_list_page_report.html' %}

{% load i18n wagtailadmin_tags %}

{% block extra_columns %}
    <th>Translations</th>
{% endblock %}

{% block extra_page_data %}
    <td valign="top">
        {% for translation in page.translations.all|dictsort:"language" %}
            {% page_permissions translation as page_perms %}
            <div>
                <span>{{ translation.language }}:</span>
                {% if page_perms.can_edit %}
                    <a href="{% url 'wagtailadmin_pages:edit' translation.id %}" title="{% trans 'Edit this page' %}">{{ translation.get_admin_display_title }}</a>
                {% else %}
                    {{ translation.get_admin_display_title }}
                {% endif %}
            </div>
        {% endfor %}
    </td>
{% endblock %}
