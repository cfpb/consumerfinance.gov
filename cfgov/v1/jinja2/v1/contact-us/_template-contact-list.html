{% import 'macros/contact-layout.html' as contact_layout %}

<div class="type-and-filter">

    <form class="js-type-and-filter_form u-js-only">
        <p class="h2">
            Looking for something more specific?
        </p>
        <p class="short-desc">
            We have a number of offices that work directly with the public.
            Scroll through the list, or enter the office, product,
            or issue you’re looking for help with and click “Filter” to narrow this list down.
        </p>

        <div class="input-with-btn">
            <div class="input-with-btn_input btn-inside-input">
                <input class="js-type-and-filter_input input__super"
                       type="text"
                       placeholder="Filter contacts by keyword"
                       required>
                <button class="js-type-and-filter_clear
                               btn
                               btn__super
                               btn__link
                               btn__secondary"
                        type="reset">
                    Clear
                    <span class="cf-icon cf-icon-delete"></span>
                </button>
            </div>
            <div class="input-with-btn_btn">
                <button class="js-type-and-filter_button btn btn__super" type="submit">Filter</button>
            </div>
        </div>

        <div class="helpful-terms">
            <span class="helpful-terms_header">Helpful filter terms:</span>
            <ul class="list list__unstyled helpful-terms_list">
                <li class="list_item">
                    <button class="btn btn__link js-helpful-term">Regulations</button>
                </li>
                <li class="list_item">
                    <button class="btn btn__link js-helpful-term">Compliance guides</button>
                </li>
                <li class="list_item">
                    <button class="btn btn__link js-helpful-term">Mortgages</button>
                </li>
                <li class="list_item">
                    <button class="btn btn__link js-helpful-term">Consumer help</button>
                </li>
            </ul>
        </div>

    </form>

    <div class="block
                block__flush-top
                expandable-group
                contact-list"
         data-accordion="true"
         id="contact-list">
        <div class="expandable-group_header"
             id ="contact-list_header">
            Office name
        </div>
    {%- for contact in contacts | sort(attribute='title') %}
        <article class="js-type-and-filter_item expandable expandable__padded">
            <button class="expandable_header expandable_target">
                <span class="expandable_header-left expandable_label">
                    {{ contact.title }}
                </span>
                <span class="expandable_header-right expandable_link">
                    <span class="expandable_cue-open">
                        Show
                        <span class="cf-icon cf-icon-plus-round"></span>
                    </span>
                    <span class="expandable_cue-close">
                        Hide
                        <span class="cf-icon cf-icon-minus-round"></span>
                    </span>
                </span>
            </button>
            <div class="expandable_content">
                {{ contact_layout.render(contact) }}
            </div><!-- END .expandable_content -->
        </article><!-- END .expandable -->
    {%- endfor %}
    </div><!-- END .block.expandable-group -->

</div><!-- END .type-and-filter -->
