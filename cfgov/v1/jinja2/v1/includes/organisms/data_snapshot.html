
{# ==========================================================================

   Data Snapshot

   ==========================================================================

   Description:

   Create a data-snapshot organism when given:

   value:                              Data Snapshot object defined from a StructBlock.
   value.last_updated_projected_data:  A DateBlock of the most recent month we have data for this snapshot.
   value.num_originations:             A string containing number of market originations.
   value.num_originations_text:        A string containing market origination number description.
   value.value_originations:           A string containing value of market originations.
   value.value_originations_text:      A string containing market origination value description.
   value.year_over_year_change:        A string containing year-over-year percent change.
   value.year_over_year_change_text:   A string containing year-over-year market desciption.

   value.image: (Optional)             An image for the second column.


   ========================================================================== #}

<h2>Data snapshot</h2>
<div class="o-info-unit-group">
    <div class="content-l__col
                content-l__col-1-2">
        <h3><b>{{ value.num_originations }}</b>
        <br/>
        {{ value.num_originations_text }}
        ({{ value.last_updated_projected_data.strftime('%B&nbsp;%Y')|safe }})</h3>

        <br/>
        <h3><b>{{ value.value_originations }}</b>
        <br/>
        {{ value.value_originations_text }}
        ({{ value.last_updated_projected_data.strftime('%B&nbsp;%Y')|safe }})</h3>

        <br/>
        <h3><b>{{ value.year_over_year_change }}</b>
        <br/>
        {{ value.year_over_year_change_text }}
        ({{ value.last_updated_projected_data.strftime('%B&nbsp;%Y')|safe }})</h3>

        {% if value.inquiry_year_over_year_change %}
        <br/>
        <h3><b>{{ value.inquiry_year_over_year_change }}</b>
        <br/>
        {{ value.inquiry_year_over_year_change_text }}
        {% if value.inquiry_month %}
            ({{ value.inquiry_month.strftime('%B&nbsp;%Y')|safe }})
        {% endif %}
        </h3>
        {% endif %}

    {% if value.image %}
    </div>

    <div class="content-l__col
                content-l__col-1-2">
        <div class="m-full-width-media">
            {% set media = image(value.image, 'original') %}
            <img class="richtext-image full-width"
                 src="{{ media.url }}"
                 alt="{{ image_alt_value(media) }}">
        </div>

        {% if value.tightness_year_over_year_change %}
        <br/>
        <h3><b>{{ value.tightness_year_over_year_change }}</b>
        <br/>
        {{ value.tightness_year_over_year_change_text }}
        {% if value.tightness_month %}
            ({{ value.tightness_month.strftime('%B&nbsp;%Y')|safe }})
        {% endif %}
        </h3>
        {% endif %}

    {% else %}
        {% if value.tightness_year_over_year_change %}
        <br/>
        <h3><b>{{ value.tightness_year_over_year_change }}</b>
        <br/>
        {{ value.tightness_year_over_year_change_text }}
        {% if value.tightness_month %}
            ({{ value.tightness_month.strftime('%B&nbsp;%Y')|safe }})
        {% endif %}
        </h3>
        {% endif %}
    {% endif %}

    </div>
</div>
