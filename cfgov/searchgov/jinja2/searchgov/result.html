{%- macro bold_matches(text) -%}
  {% for char in text -%}
    {%- if char == "\ue000" -%}
      <b>
    {%- elif char == "\ue001" -%}
      </b>
    {%- else -%}
      {{char}}
    {%- endif -%}
  {% endfor %}
{%- endmacro -%}

{%- macro render(result, key="snippet") -%}
  <div class="search-result">
    <article>
      <a href="{{result.url}}">
        <h3 class="h4 u-mb0">{{bold_matches(result.title)}}</h3>
        <div class="search-result__url u-mb5">{{result.url}}</div>
      </a>
      <p>{{bold_matches(result[key])}}</p>
    </article>
  </div>
{%- endmacro -%}
