# Generated by Django 3.2.13 on 2022-04-22 16:09

from django.db import migrations, models
import django.db.models.deletion
import modelcluster.fields


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('wagtaildocs', '0012_uploadeddocument'),
        ('v1', '0202_add_research_hub_filterable_page'),
    ]

    operations = [
        migrations.CreateModel(
            name='ReportSection',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('header', models.CharField(blank=True, max_length=200)),
                ('is_appendix', models.BooleanField(default=False)),
                ('body', models.TextField(blank=True)),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='ResearchReportPage',
            fields=[
                ('cfgovpage_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='v1.cfgovpage')),
                ('process_report', models.BooleanField(default=False, help_text='If this is checked, when you save or publish this page, the system will read in the report document and use its contents to overwrite the fields in the "Report Content" tab.<ul class="help">    <li>&bull; If you uploaded a new report file for processing, check this box.</li>    <li>&bull; If you manually edited fields in the "Report Content" tab, do not check this box.</li></ul>')),
                ('report_type', models.CharField(blank=True, max_length=100)),
                ('header', models.CharField(blank=True, max_length=200)),
                ('subheader', models.TextField(blank=True)),
                ('pdf_location', models.CharField(blank=True, max_length=150)),
                ('footnotes', models.TextField(blank=True)),
                ('report_file', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='wagtaildocs.document')),
            ],
            options={
                'abstract': False,
            },
            bases=('v1.cfgovpage',),
        ),
        migrations.CreateModel(
            name='ReportSubSection',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('header', models.CharField(max_length=200)),
                ('body', models.TextField(blank=True)),
                ('section', modelcluster.fields.ParentalKey(on_delete=django.db.models.deletion.CASCADE, related_name='report_subsections', to='research_reports.reportsection')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='ReportSectionLevelThree',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('header', models.CharField(max_length=200)),
                ('body', models.TextField(blank=True)),
                ('subsection', modelcluster.fields.ParentalKey(on_delete=django.db.models.deletion.CASCADE, related_name='report_sections_level_three', to='research_reports.reportsubsection')),
            ],
        ),
        migrations.AddField(
            model_name='reportsection',
            name='report',
            field=modelcluster.fields.ParentalKey(on_delete=django.db.models.deletion.CASCADE, related_name='report_sections', to='research_reports.researchreportpage'),
        ),
        migrations.CreateModel(
            name='ReportAuthor',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=50)),
                ('report', modelcluster.fields.ParentalKey(on_delete=django.db.models.deletion.CASCADE, related_name='report_authors', to='research_reports.researchreportpage')),
            ],
        ),
    ]
