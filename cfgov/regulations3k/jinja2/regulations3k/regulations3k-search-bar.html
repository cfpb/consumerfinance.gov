{% macro render(hidden_fields, q='') %}

<form action="." data-js-hook="behavior_submit-search">
    <label class="a-label a-label__heading" for="query">
        Search term
    </label>
    <div class="o-form__input-w-btn">
        {% if hidden_fields | length > 0 %}
            <div id="regs3k-hidden-filters">
            {% for field in hidden_fields %}
                {% for value in field.value.split(',') %}
                    <input type="hidden" name="{{ field.name }}" value="{{ value }}">
                {% endfor %}
            {% endfor %}
            </div>
        {% endif %}
        <div class="o-form__input-w-btn_input-container">
            <div class="m-btn-inside-input input-contains-label">
                <label for="query" class="input-contains-label_before input-contains-label_before__search">{{ svg_icon('search') }}</label>
                <label for="query" class="input-contains-label_after input-contains-label_after__clear u-hidden">{{ svg_icon('search') }}</label>
                <input id="query" name="q" type="text" title="Search terms" class="a-text-input" value="{{ q }}" placeholder="Search terms">
            </div>
        </div>
        <div class="o-form__input-w-btn_btn-container">
            <button class="a-btn">Search</button>
        </div>
    </div>
</form>

{% endmacro %}
