{% macro render(hidden_fields, q='') %}

<form action="."
      data-js-hook="behavior_submit-search"
      data-cy="regs-search-form">
    <h2 class="h4">
        Search term
    </h2>
    {% if hidden_fields | length > 0 %}
        <div id="regs3k-hidden-filters">
        {% for field in hidden_fields %}
            {% for value in field.value.split(',') %}
                <input type="hidden" name="{{ field.name }}" value="{{ value }}">
            {% endfor %}
        {% endfor %}
        </div>
    {% endif %}

    {% import 'v1/includes/organisms/search-input.html' as search_input %}
    {{ search_input.render({
        "input_id": "query",
        "input_name": "q",
        "input_value": q,
        "input_aria_label": "Search for a term",
        "placeholder": "Enter your search term",
        "submit_aria_label": "Search for a term in the regulations"
    }) }}
</form>

{% endmacro %}
