<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Atomic Structure and Design - consumerfinance.gov</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../css/overrides.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Atomic Structure and Design";
        var mkdocs_page_input_path = "atomic-structure.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> consumerfinance.gov
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Setup</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Running this Project</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../running-virtualenv/">Running in a Virtual Environment</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../running-docker/">Running in Docker</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../running-docs/">Running documentation site locally</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../debugging-monitoring/">Debugging and Monitoring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../deployment/">Artifacts and Deployment</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Pages and Components</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Atomic Structure and Design</a>
    <ul class="current">
    
        <ul>
        
            <li><a class="toctree-l4" href="#atoms">Atoms</a></li>
        
            <li><a class="toctree-l4" href="#molecules">Molecules</a></li>
        
            <li><a class="toctree-l4" href="#organisms">Organisms</a></li>
        
            <li><a class="toctree-l4" href="#folder-structure">Folder structure</a></li>
        
            <li><a class="toctree-l4" href="#javascript-architecture">JavaScript architecture</a></li>
        
            <li><a class="toctree-l4" href="#component-build-pipeline">Component build pipeline</a></li>
        
        </ul>
    

    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../editing-components/">Creating and Editing Components</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../debugging-templates/">Debugging Templates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../migrations/">Django and Wagtail Migrations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../wagtail-pages/">Wagtail Pages</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Supporting Features</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../caching/">Caching</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../feature-flags/">Feature Flags</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../filterable-lists/">Filterable Lists</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../page-search/">Page Search</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../site-search/">Site Search</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../translation/">Translation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Testing</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../javascript-unit-tests/">JavaScript Unit Testing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../python-unit-tests/">Python Unit Testing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../functional-testing/">Functional Testing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../profiling-django/">Profiling Django</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../other-front-end-testing/">Other Front-end Testing</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Contributing</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../branching-merging/">Branching and Merging</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../contributing-docs/">Contributing to the Docs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../related-projects/">Related Projects</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../development-tips/">Development Tips</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../github-actions/">How We Use GitHub Actions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">APIs and Data</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../ask-cfpb/">Ask CFPB</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../consumer-complaint-database/">Consumer Complaints</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../housing-counselor-tool/">Find a Housing Counselor Tool</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">consumerfinance.gov</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Pages and Components &raquo;</li><li>Atomic Structure and Design</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/higs4281/consumerfinance.gov/edit/master/docs/atomic-structure.md"
          class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="notes-on-atomic-design">Notes on Atomic Design<a class="headerlink" href="#notes-on-atomic-design" title="Permanent link">¶</a></h1>
<p>Our components employ the concept of atomic design, meaning that
we break them down into atoms, molecules, and organisms,
each successive level being more complex than the previous.
(We do not currently use the template or page concepts as described in
<a href="http://bradfrost.com/blog/post/atomic-web-design/">Brad Frost's seminal article introducing atomic design</a>).</p>
<p>Our components are composed (on the front-end) of HTML, Less, and JavaScript.
If a component doesn’t have user interactions or require styling,
then it won’t have an associated JS and/or Less file.
Components that are available for adding to a Wagtail page also
require some Python programming—see the
<a href="../editing-components/">creating and editing components</a> page for details.</p>
<p>We compose our atomic components as follows:</p>
<h2 id="atoms">Atoms<a class="headerlink" href="#atoms" title="Permanent link">¶</a></h2>
<p>The smallest kind of component.
May not contain any other components.
Prefixed with <code>a-</code> in class names.</p>
<h3 id="html">HTML<a class="headerlink" href="#html" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;a-tag&quot;</span><span class="p">&gt;</span>Tag label {{ svg_icon(&#39;error&#39;) }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="less">Less<a class="headerlink" href="#less" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">a-tag</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">cursor</span><span class="p">:</span><span class="w"> </span><span class="kc">default</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">inline-block</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="kt">px</span><span class="w"> </span><span class="mi">10</span><span class="kt">px</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="err">…</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<h3 id="javascript">JavaScript<a class="headerlink" href="#javascript" title="Permanent link">¶</a></h3>
<p>None of our atoms require any JavaScript at this time.</p>
<h2 id="molecules">Molecules<a class="headerlink" href="#molecules" title="Permanent link">¶</a></h2>
<p>The medium-sized component.
May contain atoms.
Prefixed with <code>m-</code> in class names.</p>
<h3 id="html_1">HTML<a class="headerlink" href="#html_1" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;m-notification</span>
<span class="s">         m-notification__visible</span>
<span class="s">         m-notification__error&quot;</span>
  <span class="na">data-js-hook</span><span class="o">=</span><span class="s">&quot;state_atomic_init&quot;</span>
<span class="p">&gt;</span>
  {{ svg_icon(&#39;error&#39;) }}
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;m-notification_content&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;alert&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;h4 m-notification_message&quot;</span><span class="p">&gt;</span>Page not found.<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="less_1">Less<a class="headerlink" href="#less_1" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">m-notification</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">relative</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="o">@</span><span class="n">notification-padding__px</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="err">…</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<h3 id="javascript_1">JavaScript<a class="headerlink" href="#javascript_1" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">Notification</span><span class="p">(</span><span class="w"> </span><span class="nx">element</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">BASE_CLASS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;m-notification&#39;</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="c1">// Constants for the state of this Notification.</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">SUCCESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;success&#39;</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">WARNING</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;warning&#39;</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">ERROR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;error&#39;</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="c1">// Constants for the Notification modifiers.</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">MODIFIER_VISIBLE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">BASE_CLASS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;__visible&#39;</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">_dom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">atomicHelpers</span><span class="p">.</span><span class="nx">checkDom</span><span class="p">(</span><span class="w"> </span><span class="nx">element</span><span class="p">,</span><span class="w"> </span><span class="nx">BASE_CLASS</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">_contentDom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_dom</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">BASE_CLASS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_content&#39;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="err">…</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>The Notification molecule can be instantiated
by adding the following to your project's JavaScript code:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">notification</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Notification</span><span class="p">(</span><span class="nx">_dom</span><span class="p">);</span><span class="w"></span>
<span class="nx">notification</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span><span class="w"></span>
</code></pre></div>
<h2 id="organisms">Organisms<a class="headerlink" href="#organisms" title="Permanent link">¶</a></h2>
<p>The largest component.
May contain atoms, molecules, or
(if no other solution is viable) other organisms.
Prefixed with <code>o-</code> in class names.</p>
<h3 id="html_2">HTML<a class="headerlink" href="#html_2" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;o-expandable</span>
<span class="s">            o-expandable__borders</span>
<span class="s">            o-expandable__midtone</span>
<span class="s">            o-expandable__expanded&quot;</span>
  <span class="na">data-js-hook</span><span class="o">=</span><span class="s">&quot;state_atomic_init&quot;</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;o-expandable_target&quot;</span> <span class="na">aria-pressed</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;o-expandable_header&quot;</span><span class="p">&gt;</span>…<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="less_2">Less<a class="headerlink" href="#less_2" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">.</span><span class="nc">o-expandable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">relative</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="err">&amp;_target</span><span class="w"> </span><span class="err">{</span><span class="w"></span>
<span class="w">        </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="err">…</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="err">…</span><span class="w"></span>
<span class="err">}</span><span class="w"></span>
</code></pre></div>
<h3 id="javascript_2">JavaScript<a class="headerlink" href="#javascript_2" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">Expandable</span><span class="p">(</span><span class="w"> </span><span class="nx">element</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">BASE_CLASS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;o-expandable&#39;</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="c1">// Bitwise flags for the state of this Expandable.</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">COLLAPSED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">COLLAPSING</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">EXPANDING</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">EXPANDED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="c1">// The Expandable element will directly be the Expandable</span><span class="w"></span>
<span class="w">  </span><span class="c1">// when used in an ExpandableGroup, otherwise it can be the parent container.</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">_dom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">atomicHelpers</span><span class="p">.</span><span class="nx">checkDom</span><span class="p">(</span><span class="w"> </span><span class="nx">element</span><span class="p">,</span><span class="w"> </span><span class="nx">BASE_CLASS</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">_target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_dom</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">BASE_CLASS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_target&#39;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">_content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">_dom</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">BASE_CLASS</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;_content&#39;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="err">…</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>The Expandable organism can be instantiated
by adding the following to your project's JavaScript code:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">expandable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Expandable</span><span class="p">(</span><span class="nx">_dom</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;.o-expandable&#39;</span><span class="p">));</span><span class="w"></span>
<span class="nx">expandable</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">_expandable</span><span class="p">.</span><span class="nx">EXPANDED</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">atomicHelpers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;@cfpb/cfpb-atomic-component/src/utilities/atomic-helpers.js&#39;</span><span class="p">);</span><span class="w"></span>
<span class="kd">const</span><span class="w"> </span><span class="nx">Expandable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../../organisms/Expandable&#39;</span><span class="p">);</span><span class="w"></span>
<span class="nx">atomicHelpers</span><span class="p">.</span><span class="nx">instantiateAll</span><span class="p">(</span><span class="s1">&#39;.o-expandable&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">Expandable</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<h2 id="folder-structure">Folder structure<a class="headerlink" href="#folder-structure" title="Permanent link">¶</a></h2>
<p>Our atomic components are separated and named based on asset type.
HTML, Less, and JavaScript for each component are in separate directories.</p>
<h3 id="html_3">HTML<a class="headerlink" href="#html_3" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>consumerfinance.gov/cfgov/v1/jinja2/v1/includes/atoms/
consumerfinance.gov/cfgov/v1/jinja2/v1/includes/molecules/
consumerfinance.gov/cfgov/v1/jinja2/v1/includes/organisms/
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>Some of our foundational components get their Less and JavaScript
from the <a href="https://cfpb.github.io/design-system/">Design System</a>,
but the HTML for their Wagtail block templates
is stored in the above folders.</p>
<h3 id="css">CSS<a class="headerlink" href="#css" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>consumerfinance.gov/cfgov/unprocessed/css/atoms/
consumerfinance.gov/cfgov/unprocessed/css/molecules/
consumerfinance.gov/cfgov/unprocessed/css/organisms/
</code></pre></div>
<h3 id="javascript_3">JavaScript<a class="headerlink" href="#javascript_3" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>consumerfinance.gov/cfgov/unprocessed/js/molecules/
consumerfinance.gov/cfgov/unprocessed/js/organisms/
</code></pre></div>
<h3 id="tests">Tests<a class="headerlink" href="#tests" title="Permanent link">¶</a></h3>
<div class="highlight"><pre><span></span><code>consumerfinance.gov/test/unit_tests/js/molecules/
consumerfinance.gov/test/unit_tests/js/organisms/
</code></pre></div>
<h2 id="javascript-architecture">JavaScript architecture<a class="headerlink" href="#javascript-architecture" title="Permanent link">¶</a></h2>
<p>JavaScript components are built to be rendered on the server
and then enhanced via JavaScript on the client.
The basic interface for the components is as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">AtomicComponent</span><span class="p">(</span><span class="nx">domElement</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Ensure the passed in Element is in the DOM.</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Query and store references to sub-elements.</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Instantiate child atomic components.</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Bind necessary events for referenced DOM elements.</span><span class="w"></span>
<span class="w">  </span><span class="c1">// Perform other initialization related tasks.</span><span class="w"></span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span><span class="w"></span>

<span class="w">  </span><span class="c1">// General teardown function</span><span class="w"></span>
<span class="w">  </span><span class="c1">// We don&#39;t remove the element from the DOM so</span><span class="w"></span>
<span class="w">  </span><span class="c1">// we need to unbind the events.</span><span class="w"></span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">destroy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">destroy</span><span class="p">()</span><span class="w"> </span><span class="p">{};</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>We generally favor composition over inheritance.
You can get more information by reading the following:</p>
<ul>
<li><a href="https://medium.com/javascript-scene/a-simple-challenge-to-classical-inheritance-fans-e78c2cf5eead#.mtrvhcjiw">A Simple Challenge to Classical Inheritance Fans</a></li>
<li><a href="https://www.youtube.com/watch?v=wfMtDGfHWpA">Composition over Inheritance (YouTube)</a></li>
</ul>
<h2 id="component-build-pipeline">Component build pipeline<a class="headerlink" href="#component-build-pipeline" title="Permanent link">¶</a></h2>
<h3 id="routes">Routes<a class="headerlink" href="#routes" title="Permanent link">¶</a></h3>
<p>Routes are used to serve JavaScript bundles to the browser based
on the requested URL or Wagtail page's <code>Media</code> definition.
This happens via code contained in
<a href="https://github.com/cfpb/consumerfinance.gov/blob/main/cfgov/v1/jinja2/v1/layouts/base.html#L85-L123"><code>v1/layouts/base.html</code></a>. This file serves as the base HTML template for serving Wagtail pages.</p>
<h3 id="wagtail-page-media-class">Wagtail page <code>Media</code> class<a class="headerlink" href="#wagtail-page-media-class" title="Permanent link">¶</a></h3>
<p>Each atomic component has a <code>Media</code> class that lists the JavaScript files
that should be loaded via <code>base.html</code>.
When a page is requested via the browser, code contained in <code>base.html</code> will
loop all atomic components for the requested page and load
the appropriate atomic JavaScript bundles.</p>
<p>Here is an example of the <code>Media</code> class on a component,
<a href="https://github.com/cfpb/consumerfinance.gov/blob/main/cfgov/v1/atomic_elements/organisms.py#L223-L244">the <code>EmailSignUp</code> organism</a>:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Media</span><span class="p">:</span>
    <span class="n">js</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;email-signup.js&#39;</span><span class="p">]</span>
</code></pre></div>
<p>This will load the <code>email-signup.js</code> script on any page
that includes the <code>EmailSignUp</code> organism in one of its StreamFields.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../deployment/" class="btn btn-neutral float-left" title="Artifacts and Deployment"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../editing-components/" class="btn btn-neutral float-right" title="Creating and Editing Components">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/higs4281/consumerfinance.gov" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../deployment/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../editing-components/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
